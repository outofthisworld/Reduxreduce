"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.reduxreduce={})})(void 0,function(a){"use strict";function b(a){function c(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=arguments[1],h=Object.assign({},d);"useCache"in h||(h.useCache=!0);var j=function(a){return a===Object(a)&&"[object Array]"!==Object.prototype.toString.call(a)};if(!a||!j(a))throw new Error("Invalid tree");var k=function(a){return function(b,c){return"function"==typeof c?(c.reduxreduce_key&&h.useCache&&(c.reduxreduce_property=[].concat(_toConsumableArray(a)),e[c.reduxreduce_key]=c),c(b,g)):b}};if(function(a){return e&&e[a]}(g.type)&&"function"==typeof e[g.type]&&"reduxreduce_property"in e[g.type]&&h.useCache){var l=e[g.type];if(!("reduxreduce_property"in l))throw new Error("Missing reduxreduce_property");var m=l.reduxreduce_property,n=m[m.length-1],o=m[m.length-2];if(1==m.length)c[m[0]]=l(c[m[0]],g);else{for(var p=null,q=0;q<m.length-1;q++)p=c[m[q]];p[n]=l(p[n],g)}}else for(var r in a){var s=a[r];f[f.length]=r,j(s)?(c[r]=c[r]||{},b(s,d,e,f)(c[r],g)):Array.isArray(s)?c[r]=s.reduce(k(f),c[r]):c[r]=s,f=[]}return c}var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:[];return c}var c=function(a,b){var c=function(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};switch(d.type){case a:c=b(c,d);}return c};return c.reduxreduce_key=a,c},d=Object.freeze({number_transform:function(a){return function(b){return c(a,function(a,c){return b(a,c)})}},number_increment:function(a){return c(a,function(a){return a+1})},number_decrement:function(a){return c(a,function(a){return a-1})}}),e=Object.freeze({array_append:function(a){return function(b){return c(a,function(a,c){return[].concat(_toConsumableArray(a),[b(a,c)])})}},array_prepend:function(a){return function(b){return c(a,function(a,c){return[b(a,c)].concat(_toConsumableArray(a))})}},array_remove_all:function(a){return c(a,function(){return[]})},array_remove_index:function(a){return function(b){return c(a,function(a,c){var d=[].concat(_toConsumableArray(a)),e=b(a,c);if(!Number.isInteger(e)||0>e||e>=d.length)throw new Error("reduxreduce error: invalid index returned");return d.splice(e,1),d})}},array_set:function(a){return function(b){return c(a,function(a,c){var d=b(a,c);if(!Array.isArray(d))throw new Error("reduxreduce error: array_set must return an array");if(d===a)throw new Error("reduxreduce error: original array was returned from array_set, please make sure you copy the state.");return d})}}}),f=Object.freeze({boolean_set:function(a){return function(b){return c(a,b)}},boolean_toggle:function(a){return c(a,function(a){return!a})}}),g=e.array_append,h=e.array_prepend,i=e.array_remove_all,j=e.array_remove_index,k=e.array_set,l=f.boolean_set,m=f.boolean_toggle,n=d.number_transform,o=d.number_increment,p=d.number_decrement;a.create_reducer=b,a.combine=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a,c){return b.reduce(function(a,b){return"function"==typeof b?b(a,c):a},a)}},a.array_append=g,a.array_prepend=h,a.array_remove_all=i,a.array_remove_index=j,a.array_set=k,a.boolean_set=l,a.boolean_toggle=m,a.number_transform=n,a.number_increment=o,a.number_decrement=p,a.simple_reducer=c,a.default_state=function(a){return function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:a,c=arguments[1];return b}},Object.defineProperty(a,"__esModule",{value:!0})});